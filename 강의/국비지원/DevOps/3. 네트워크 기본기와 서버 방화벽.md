### IP, Packet, Port

![[Pasted image 20231125170418.png]]
A와 B 지점이 있다. 
데이터를 전송한다고 가정했을 때 다이렉트로 전류를 흘려보내는 것이 가장 효율적이다.
이진수를 흘려 보낸다.

상대방이 많아지면 선이 늘어난다. 
이를 서킷 스위칭 방식이라고 부른다.
하지만 선이 늘어나면 단점이 발생한다.
비용이 많이 발생한다.

![[Pasted image 20231125170747.png]]
이를 해결하기 위해 패킷 스위칭 방식을 고안했다.
A가 B, C, D와 통신을 한다고 가정하자.
목적지까지 데이터를 전송하지 않고 중간에 매개하는 지점에 데이터를 보낸다. 
데이터를 전송하는 K와 F도 있다고 가정하면 이들도 그 지점에 데이터를 전송한다.
그 후 도착하기 전에 또 하나의 중간 지점이 있다.
그리고 나서 도착지에 전송된다. 

A가 '가나'라는 데이터를 K가 '다라'라는 데이터를 F가 '마바'라는 데이터를 전송한다고 가정하자.
A, F, K는 이 데이터를 쪼갠다. 따라서 가, 다, 마 데이터가 먼저 전송된다. 
그리고 나, 라, 바 데이터가 전송된다. 
첫 번째 중간지점에서는 데이터와 함께 목적지 정보를 저장한다. 
그러한 중간지점을 라우터라고 한다. 
라우터는 데이터를 받아서 패킷 포워딩을 한다. 

B가 데이터를 받으면 재조립을 한다.
처음에 데이터가 전송될 때(예를 들어 A의 가나) 가 정보에는 목적지인 B와, 
가의 출신지인 A가 저장되어 있다. 뿐만 아니라 순서도 숫자로 저장되어 있다.
이러한 정보를 헤더라고 한다. 
헤더의 정보를 바탕으로 재조립을 한다. 

패킷 스위칭은 선이 늘어날 필요가 없어 비용이 적게든다.
패킷으로 쪼개서 보내지 않는다면?
A, B, C를 보낼 때 A의 용량이 1GB이고 나머지가 가벼운 데이터라고 가정하자.
B, C는 작은 용량이기 때문에 전송시간이 짧은대도 불구하고 A가 다 전송될 때까지 wait가 걸린다. 
패킷 방식은 동시전송이며 동시전송은 패킷 분할과 재조립이 따른다.



전세계 엄청나게 많은 컴퓨터가 있다. 
각 자의 주소가 A, B, C 이런식으로 되어있으면 이들을 구분하기가 힘들다.
이들에게는 유일한 값이 필요한데 이 값을 정수 값으로 나타낸다.
0 ~ 42억 9천까지의 수로 구분하여 전세계에는 42억 9천 이하의 컴퓨터가 있다고 가정하고,
번호를 매긴다. 이를 IPv4 방식이라고 한다. 지금은 컴퓨터 수가 많이 늘어났기 때문에
IPv6를 도입했다. 

주소 한 칸 당 2^8의 정수를 가질 수 있고 이는 255다.
따라서 Ipv